import{d as p,h as t,G as e,c,L as o,U as s,o as r}from"./chunks/framework.d5190e5f.js";const D=s('<h1 id="播放器-video" tabindex="-1">播放器 Video <a class="header-anchor" href="#播放器-video" aria-label="Permalink to &quot;播放器 Video&quot;">​</a></h1><br><p><em>简易封装的播放器</em></p><h2 id="何时使用" tabindex="-1">何时使用 <a class="header-anchor" href="#何时使用" aria-label="Permalink to &quot;何时使用&quot;">​</a></h2><ul><li>当需要在网页内播放视频时</li></ul><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h2>',6),d=s(`<details class="details custom-block"><summary>Show Code</summary><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> src </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/Bao.mp4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> poster </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/bao.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Video</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:poster</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">poster</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">666.67</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">375</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div></details><h2 id="自动播放" tabindex="-1">自动播放 <a class="header-anchor" href="#自动播放" aria-label="Permalink to &quot;自动播放&quot;">​</a></h2><p><em>据新政策，媒体内容将在满足以下至少一个的条件下自动播放：</em></p><ol><li>音频被静音或其音量设置为 0</li><li>用户和网页已有交互行为（包括点击、触摸、按下某个键等等）</li><li>网站已被列入白名单；如果浏览器确定用户经常与媒体互动，这可能会自动发生，也可能通过首选项或其他用户界面功能手动发生</li><li>自动播放策略应用到&lt;iframe&gt;或者其文档上</li></ol><p><em>autoplay：由于目前在最新版的Chrome浏览器（以及所有以Chromium为内核的浏览器）中，已不再允许自动播放音频和视频。就算你为video或audio标签设置了autoplay属性也一样不能自动播放！</em></p><p><em>解决方法：设置视频 autoplay 时，视频必须设置为静音 muted: true 即可实现自动播放，然后用户可以使用控制栏开启声音，类似某宝商品自动播放的宣传视频逻辑</em></p><br>`,7),F=s(`<details class="details custom-block"><summary>Show Code</summary><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> src </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/Bao.mp4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> poster </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/bao.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Video</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">autoplay</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:poster</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">poster</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">666.67</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">375</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div></details><h2 id="自动截取视频指定帧作为封面图" tabindex="-1">自动截取视频指定帧作为封面图 <a class="header-anchor" href="#自动截取视频指定帧作为封面图" aria-label="Permalink to &quot;自动截取视频指定帧作为封面图&quot;">​</a></h2><p><em>在未设置封面时，自动截取视频第 second 秒指定帧作为封面图</em></p><br>`,4),y=s(`<details class="details custom-block"><summary>Show Code</summary><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> src </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/Bao.mp4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Video</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">666.67</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:height</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">375</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">:second</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div></details><h2 id="apis" tabindex="-1">APIs <a class="header-anchor" href="#apis" aria-label="Permalink to &quot;APIs&quot;">​</a></h2><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>必传</th></tr></thead><tbody><tr><td>src</td><td>视频文件地址，支持网络地址 <code>https</code> 和相对地址</td><td>string</td><td>&#39;&#39;</td><td>true</td></tr><tr><td>poster</td><td>视频封面地址，支持网络地址 <code>https</code> 和相对地址</td><td>string</td><td>&#39;&#39;</td><td>false</td></tr><tr><td>second</td><td>在未设置封面时，自动截取视频第 <code>second</code> 秒对应帧作为视频封面</td><td>number</td><td>0.5</td><td>false</td></tr><tr><td>width</td><td>视频播放器宽度，单位px</td><td>number</td><td>800</td><td>false</td></tr><tr><td>height</td><td>视频播放器高度，单位px</td><td>number</td><td>450</td><td>false</td></tr><tr><td>autoplay</td><td>视频就绪后是否马上播放，优先级高于 <code>preload</code>，参考 <a href="https://developer.mozilla.org/zh-CN/docs/Web/Media/Autoplay_guide" target="_blank" rel="noreferrer">MDN 自动播放指南</a></td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>controls</td><td>是否向用户显示控件，比如进度条，全屏等</td><td>boolean</td><td>true</td><td>false</td></tr><tr><td>loop</td><td>视频播放完成后，是否循环播放</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>muted</td><td>是否静音</td><td>boolean</td><td>false</td><td>false</td></tr><tr><td>preload</td><td>是否在页面加载后载入视频，如果设置了 <code>autoplay</code> 属性，则 <code>preload</code> 将被忽略</td><td>&#39;auto&#39; | &#39;metadata&#39; | &#39;none&#39;</td><td>&#39;auto&#39;</td><td>false</td></tr><tr><td>showPlay</td><td>播放暂停时是否显示播放器中间的暂停图标</td><td>boolean</td><td>true</td><td>false</td></tr><tr><td>fit</td><td><code>video</code> 的 <code>poster</code> 默认图片和视频内容缩放规则</td><td>&#39;none&#39; | &#39;fill&#39; | &#39;contain&#39; | &#39;cover&#39;</td><td>&#39;contain&#39;</td><td>false</td></tr></tbody></table><p><em>preload可选属性：</em></p><ul><li><code>auto</code>: 一旦页面加载，则开始加载视频;</li><li><code>metadata</code>: 当页面加载后仅加载视频的元数据（例如长度），建议使用- - <code>metadata</code>，以便视频自动获取第一帧作为封面 <code>poster</code></li><li><code>none</code>: 页面加载后不应加载视频</li></ul><p><em>fit可选属性：</em></p><ul><li><code>none</code>: 保存原有内容，不进行缩放;</li><li><code>fill</code>: 不保持原有比例，内容拉伸填充整个内容容器;</li><li><code>contain</code>: 保存原有比例，内容以包含方式缩放;</li><li><code>cover</code>: 保存原有比例，内容以覆盖方式缩放</li></ul>`,7),m=JSON.parse('{"title":"播放器 Video","description":"","frontmatter":{},"headers":[],"relativePath":"guide/components/video.md","filePath":"guide/components/video.md"}'),i={name:"guide/components/video.md"},g=p({...i,setup(C){const a=t("https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/Bao.mp4"),n=t("https://cdn.jsdelivr.net/gh/themusecatcher/resources@0.0.3/bao.jpg");return(u,h)=>{const l=e("Video",!0);return r(),c("div",null,[D,o(l,{src:a.value,poster:n.value,width:666.67,height:375},null,8,["src","poster"]),d,o(l,{autoplay:"",src:a.value,poster:n.value,width:666.67,height:375},null,8,["src","poster"]),F,o(l,{src:a.value,width:666.67,height:375,second:3},null,8,["src"]),y])}}});export{m as __pageData,g as default};
